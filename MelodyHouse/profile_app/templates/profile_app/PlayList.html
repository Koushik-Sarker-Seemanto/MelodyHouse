{% extends 'profile_app/profilebase.html' %}
{% load static %}

{% block title %}
    <title>Play List</title>


{% endblock %}

{% block UserName %}
    {{ user.name }}
{% endblock %}


{% block body %}
    <div class="container justify-content-center d-flex">
        <h1 class="justify-content-center" style="margin-top: 80px">My Playlist</h1>
    </div>

    {% if error %}
        <div class="alert alert-danger alert-dismissible fade show d-flex justify-content-center">
            <strong>Success : </strong>  {{ error }}
            <button type="button" class="close" data-dismiss="alert">&times;
            </button>
        </div>
     {% endif %}


    <div class="container" style="margin-top: 30px">

        <div class="row" >

        {% for song in songs %}
            <div class="col-md-3 mt-2 mb-2" >
                <div class="" style="padding: 20px;border-radius: 10px;background: #c5c5c5;">
                    <div class="">
                        <div class="p" style="overflow: hidden">
                            {{ song.playlist_song.song_title }}
                        </div>
                    </div>
                    <a href="#" class="p-cnt-v" >
                        <img class="embed-responsive" style="padding-top: 10px" src='{{ song.playlist_song.album_id.album_logo.url }}'>
                    </a>
                    <audio controls style="width: 100%;margin-top: 10px">
                        <source src="{{ song.playlist_song.song_file.url }}" type="audio/mpeg">
                    </audio>

                    <div class="d-flex">
                        <div class="" >
                            <a class="" target="_blank"  href="{{ song.playlist_song.song_file.url }}">
                            <button type="button" class="btn btn-outline-success">
                                 <i class="fa fa-fw fa-play"></i>Play
                            </button>
                            </a>
                        </div>
                        <hr>
{#                        <div>#}
{#                            <button class="btn btn-outline-danger">Remove</button>#}
{#                        </div>#}

                        <form action="" method="POST" enctype="multipart/form-data" style="width: 50%">
                            {% csrf_token %}
                            <input style="display: none" type="text" name="song_id" value="{{ song.id}}">
                            <button name="remove_from_playlist" value="remove_from_playlist" style="width: 100%" class="btn btn-outline-danger" >
                                <i class="fa fa-fw fa-trash"></i>Remove
                            </button>
                        </form>


                    </div>
                </div>

            </div>
        {% endfor %}
        {% cycle '' '' '' '' '' '<div class="clearfix visible-lg"></div>' %}
    </div>
    </div>

    <!--[ footer ] -->
              <div  style="bottom: 0;width: 100%;position: absolute;height: $height-footer;background-color: #c5c5c5">
                <div class="container">
                  <p class="footer-block">Follow us on :</p>
                    <i class="fa fa-fw fa-facebook-official"></i>
                    <i class="fa fa-fw fa-twitter-square"></i>
                    <i class="fa fa-fw fa-instagram"></i>
                    <i class="fa fa-fw fa-linkedin-square"></i>
                </div>
              </div>


{% endblock %}